(()=>{"use strict";const e=class{constructor(e,t,s){this.type=e,this.props=t,this.children=s}};function t(t,s,n){return new e(t,s,n)}function s(e,t,s){switch(t){case"value":"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value=s:e.setAttribute(t,s);break;case"style":e.style.cssText=s;break;default:e.setAttribute(t,s)}}function n(t){const{type:a,props:c,children:i}=t,l=document.createElement(a);for(let e in c)s(l,e,c[e]);return i.map((t=>{t=t instanceof e?n(t):document.createTextNode(t),l.appendChild(t)})),l}const a="ATTR",c="TEXT",i="REPLACE",l="REMOVE";let o={},r=0;function p(e,t,s){let n=[];if(t)if("string"==typeof e&&"string"==typeof t)e!==t&&n.push({type:c,text:t});else if(e.type===t.type){const s=function(e,t){let s={};for(let n in e)e[n]!==t[n]&&(s[n]=t[n]);for(let n in t)e.hasOwnProperty(n)||(s[n]=t[n]);return s}(e.props,t.props);Object.keys(s).length>0&&n.push({type:a,attrs:s}),d=e.children,u=t.children,d.map(((e,t)=>{p(e,u[t],++r)}))}else n.push({type:i,newNode:t});else n.push({type:l,index:s});var d,u;n.length>0&&(o[s]=n)}let d={},u=0;function h(t){const o=d[u++];[...t.childNodes].map((e=>{h(e)})),o&&function(t,o){o.map((o=>{switch(o.type){case a:for(let e in o.attrs){const n=o.attrs[e];n?s(t,e,n):t.removeAttribute(e)}break;case c:t.textContent=o.text;break;case i:const r=o.newNode instanceof e?n(o.newNode):document.createTextNode(o.newNode);t.parentNode.replaceChild(r,t);break;case l:t.parentNode.removeChild(t)}}))}(t,o)}const f=t("ul",{class:"list",style:"width: 300px; height: 300px; background-color: orange"},[t("li",{class:"item","data-index":0},[t("p",{class:"text"},["第1个列表项"])]),t("li",{class:"item","data-index":1},[t("p",{class:"text"},[t("span",{class:"title"},[])])]),t("li",{class:"item","data-index":2},["第3个列表项"])]),m=t("ul",{class:"list-wrap",style:"width: 300px; height: 300px; background-color: orange"},[t("li",{class:"item","data-index":0},[t("p",{class:"title"},["特殊列表项"])]),t("li",{class:"item","data-index":1},[t("p",{class:"text"},[])]),t("div",{class:"item","data-index":2},["第3个列表项"])]),x=n(f);!function(e,t){document.getElementById("app").appendChild(e)}(x);const y=(p(f,m,0),o);(function(e,t){d=t,h(e)})(x,y),console.log(y)})();
//# sourceMappingURL=bundle.js.map